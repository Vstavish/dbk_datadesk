---
title: "crime"
author: "Victoria Stavish"
date: "2022-10-10"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
library(tidyverse)
library(janitor)
library(readxl)

```
```{r}
# read in crime data 2017-2022
crime <- read_csv("UMPD_crime_export_9_2017_to_9_2022.csv")

```

```{r}
# common places

place_crime <- crime %>%
  group_by(location_desc) %>%
  count() %>%
  arrange(desc(n))
  
```

```{r}
# common crime

type_crime <- crime %>%
  group_by(type) %>%
  count() %>%
  arrange(desc(n))

```


```{r}
# common results

result_crime <- crime %>%
  group_by(disposition) %>%
  count() %>%
  arrange(desc(n))

```

```{r}
# crime over time

over_time <- crime %>%
mutate(
date_occurred = as.Date(date_occurred, "%m/%d/%Y")
)

daily <- over_time %>%
  filter(date_occurred > '2017-01-01') %>%
  arrange(date_occurred) %>%
  group_by(date_occurred) %>%
  count()

daily %>%
  ggplot() +
  geom_line(aes(x=date_occurred, y=n)) 

```

```{r}
# indecent exposures over time 

indecent_exposures <- crime %>%
  clean_names() %>%
  mutate(
date_occurred = as.Date(date_occurred, "%m/%d/%Y")
) %>%
  filter(type == "Indecent Exposure" |type == "Indecent Exposure (Title IX Related)")%>%
filter(date_occurred > '2017-01-01')



```


